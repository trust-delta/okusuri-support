# プロジェクト概要

**最終更新**: 2025年10月16日

## 基本情報

- **アプリケーション名**: おくすりサポート
- **プロジェクトタイプ**: 新規開発（個人開発）
- **開発スタイル**: AI支援開発（Claude Code + Spec-Driven Development）
- **現在フェーズ**: Phase 2（支援者機能実装中）

---

## プロダクトビジョン

### ミッション
精神疾患患者の服薬アドヒアランス向上を支援し、患者と支援者が協働できる服薬管理プラットフォームを提供する。

### ターゲットユーザー

**主利用者（患者）**
- 精神疾患を持ち、独力での服薬管理が困難な方
- 定期的な服薬が必要だが、忘れやすい方

**支援者（家族・介護者）**
- 患者の服薬状況を遠隔で確認したい家族
- 複数の患者を管理する介護施設のスタッフ

---

## 主要機能

### 実装済み ✅
- 認証機能（Convex Auth: パスワード/OTP）
- 服薬管理基本機能（記録・履歴・リマインダー）
- グループ管理機能（作成・編集・削除・メンバー管理）
- グループ招待機能（招待コード/リンク）
- オンボーディング機能（ロール選択）

### 開発中 🚧
- 権限管理システム（RBAC）
- 通知システム（リアルタイム/プッシュ）

### 今後の計画 🔜
- **Phase 3**: AI活用による服薬パターン分析
- **Phase 4**: 医療機関との情報連携基盤

---

## 技術スタック概要

- **フロントエンド**: Next.js 15 (App Router) + React 19 + Tailwind CSS v4
- **バックエンド**: Convex 1.27 (BaaS)
- **認証**: @convex-dev/auth 0.0.90
- **テスト**: Vitest 3.2 + Playwright 1.56
- **コード品質**: Biome 2.2

詳細は[tech-stack.md](tech-stack.md)を参照。

---

## アーキテクチャ原則

### 1. Feature-Based Architecture
機能ごとにディレクトリを分割し、独立性を保つ。

```
src/features/
├── auth/          # 認証機能
├── group/         # グループ管理
├── medication/    # 服薬管理
└── onboarding/    # オンボーディング
```

### 2. リアルタイムファースト
Convex Reactive Queriesによる自動同期を基本設計とする。

### 3. 型安全性優先
- TypeScript strict mode必須
- `any`型禁止（`unknown`使用）
- Convexスキーマによる型生成

### 4. Progressive Enhancement
- PWA対応
- オフラインファースト設計

詳細は[architecture.md](architecture.md)を参照。

---

## コーディング規約

### TypeScript
- **strict mode**: 必須
- **any型**: 禁止
- **ファイルサイズ**: 最大300行
- **循環依存**: 禁止

### 命名規則
- **ファイル**: kebab-case（`user-service.ts`）
- **クラス**: PascalCase（`UserService`）
- **関数・変数**: camelCase（`getUserById`）
- **定数**: UPPER_SNAKE_CASE（`MAX_RETRY_COUNT`）
- **型**: `I`プレフィックス不要（`User`）

---

## テスト戦略

### カバレッジ目標
- **ユニットテスト**: 80%以上
- **統合テスト**: すべてのAPI
- **E2Eテスト**: クリティカルパス

詳細は[testing-strategy.md](testing-strategy.md)を参照。

---

## セキュリティ要件

- **認証**: Convex Auth（JWT）
- **認可**: RBAC（計画中）
- **データ保護**: 環境変数管理、HTTPS強制
- **脆弱性対策**: XSS/CSRF対策

---

## パフォーマンス要件

- **初回読み込み**: 3秒以内
- **画面遷移**: 1秒以内
- **API応答**: 500ms以内

---

## デプロイ戦略

- **フロントエンド**: Vercel
- **バックエンド**: Convexマネージドサービス
- **CI/CD**: GitHub Actions（計画中）

---

## 成功指標

### ユーザー指標
- **服薬継続率**: 90%以上
- **NPS**: 40以上
- **支援者エンゲージメント**: 週3回以上

### 技術指標
- **稼働率**: 99.9%以上
- **テストカバレッジ**: 80%以上

---

## 関連ドキュメント

- [アーキテクチャ](architecture.md) - システム設計の詳細
- [技術スタック](tech-stack.md) - 使用技術の詳細
- [テスト戦略](testing-strategy.md) - テスト方針
- [エラーハンドリング](error-handling.md) - エラー処理戦略
- [ADR一覧](adr/) - アーキテクチャ決定記録
