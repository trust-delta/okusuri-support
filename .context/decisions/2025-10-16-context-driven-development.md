# 決定記録: コンテキスト駆動開発の導入

**日付**: 2025年10月16日
**ステータス**: 承認済み
**決定者**: AI + 開発者

---

## 背景

AI支援開発において、フレームワーク固有の設定（例: `.kiro/`）に依存すると、以下の課題が発生：

1. **フレームワーク依存**: 特定ツールが削除・変更されるとコンテキストが失われる
2. **可搬性の欠如**: プロジェクトのコンテキストを他ツール・環境に移行できない
3. **知識の分散**: プロジェクトの重要情報が複数の場所に散在

---

## 決定

### `.context/`ディレクトリの導入

**フレームワーク非依存な汎用コンテキスト管理**を実現。

```
.context/
├── project.md
├── architecture.md
├── coding-style.md
├── testing-strategy.md
├── error-handling.md
├── decisions/           # 決定記録
│   └── YYYY-MM-DD-*.md
├── specs/               # 機能仕様書
│   └── features/*.md
└── runbooks/            # 作業手順書
```

---

## 原則

### 1. フレームワーク非依存
`.context/`配下は特定フレームワーク（Kiro SSD等）に依存しない

### 2. 軽量性
各ファイルは**200行以内**を目安

### 3. 相互参照
ドキュメント間はMarkdownリンクで相互参照

### 4. 最新性の維持
ドキュメントには**最終更新日**を明記

---

## 利点

✅ **フレームワーク非依存**: どのツールからでもアクセス可能
✅ **可搬性**: 他環境への移行が容易
✅ **一元管理**: 情報を`.context/`に集約
✅ **軽量**: 200行以内で管理しやすい

---

## 欠点

❌ **冗長性**: `.kiro/steering/`との重複
→ **対応**: `.kiro/`削除を前提とした設計

❌ **メンテナンスコスト**: 複数ファイルの更新が必要
→ **対応**: 相互参照により最小限の更新で対応

---

## 代替案

### 1. `.kiro/steering/`のみ使用
**却下理由**: Kiro SSD依存

### 2. `docs/`ディレクトリ使用
**却下理由**: ユーザー向けとAI向けの混在

### 3. README.md内に集約
**却下理由**: ファイルサイズ肥大化

---

## 実装

### Phase 1: 基本構造の整備 ✅
- `.context/context/` 配下の必須ファイル作成
- 決定記録初版作成
- README.md作成

### Phase 2: 既存情報の移行（計画中）
- `.kiro/steering/`から情報を抽出
- 重複を排除し`.context/context/`に統合

### Phase 3: 運用最適化（将来）
- 自動更新スクリプト
- CIによるドキュメント検証

---

## 関連ドキュメント

- [project.md](../project.md)
- [architecture.md](../architecture.md)

---

## 承認

| 役割 | 名前 | 日付 |
|------|------|------|
| 提案者 | AI | 2025-10-16 |
| 承認者 | 開発者 | 2025-10-16 |
